- config:
    name: 周计划测试用例
    variables: 
     expected_status_code: 200 #正常的接口状态响应码
     json_result: true #接口正确状态值
    base_url: ${ENV(base_path)}

- test:
    name: 周计划列表数据查询
    api: api/week-plan/week-plan-api_99_99.yaml
    validate:
      - eq: ["status_code", 200]

- test:
    name: 月计划根据工作内容条件检索
    api: api/month-plan/month-plan-api_99_98.yaml
    variables:
        workContent: ${getSrv()}
    extract: 
      - monthPlanId: content.data.0.id
      - beginTime: content.data.0.beginTime
      - company: content.data.0.companyId
      - department: content.data.0.departmentId
      - endTime: content.data.0.endTime
      - groupId: content.data.0.groupId
      - infrasRisk: content.data.0.infrasRisk
      - marketRisk: content.data.0.marketRisk
      - powerGridRisk: content.data.0.powerGridRisk
      - remarks: content.data.0.remarks
      - specialty: content.data.0.specialty
      - workContent: content.data.0.workContent
      - workPlace: content.data.0.workPlace
      - workRisk: content.data.0.workRisk
    validate:
      - eq: ["status_code", 200]

- test:
    name: 工作负责人列表查询
    api: api/week-plan/week-plan-api_99_98.yaml
    extract: 
      - userId: content.data.0.id
      - officialUserId: content.data.0.id
      - realName: content.data.0.realName
      - phone: content.data.0.phone
    validate:
      - eq: ["status_code", 200]

- test:
    name: 班组提交周计划验证_选择工作负责人(zyxx_02_01)
    api: api/week-plan/week-plan-api_02_01.1.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]

- test:
    name: 班组提交周计划验证_班组提交(zyxx_02_01)
    api: api/week-plan/week-plan-api_02_01.2.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]

- test:
    name: 部门计划管理员审核验证_退回(zyxx_02_02)
    api: api/week-plan/week-plan-api_02_02.1.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]

- test:
    name: 班组再次提交验证_修改周计划信息(zyxx_02_03)
    api: api/week-plan/week-plan-api_02_01.1.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]

- test:
    name: 班组再次提交验证_班组提交(zyxx_02_03)
    api: api/week-plan/week-plan-api_02_01.2.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]

- test:
    name: 部门计划管理员审核验证_确认(zyxx_02_02)
    api: api/week-plan/week-plan-api_02_02.2.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]

- test:
    name: 部门安全员审核验证_确认(zyxx_02_04)
    api: api/week-plan/week-plan-api_02_04.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]

- test:
    name: 班组作废周计划申请验证(zyxx_03_01)
    api: api/week-plan/week-plan-api_03_01.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]

- test:
    name: 取消作废周计划验证(zyxx_04_01)'
    api: api/week-plan/week-plan-api_04_01.yaml
    validate:
      - eq: ["status_code", 200]
      - eq: ["content.success", true]